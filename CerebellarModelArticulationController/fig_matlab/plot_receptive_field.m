clear;close all;clc;
M = load('Object_Center.txt') ;
sample = 250;
M(:,1) = M(:,1)/320;
M(:,2) = M(:,2)/240;
N = zeros(sample, 2);
% Position
N = round(50 * M(1:sample,1:2));

% draw L2 Board
L2 = zeros(500,500);
for p = 1:50
    for q = 1:50
        L2((p-1) * 10 +1 : p * 10 -1, (q-1) * 10 +1 : q * 10 -1) = 255;
    end
end
L2(:,1)=0;L2(1,:)=0;
L22 = L2;

% draw receptive field
for i = 1:sample
    k = N(i,1);
    l = N(i,2);
    if (k > 45)
        k = 45;
    end
    if (l > 45)
        l = 45;
    end
   L2((k-1) * 10 +1 : k * 10 + 40, (l-1) * 10 +1 : l * 10 + 40) ...
         = (L2((k-1) * 10 +1 : k * 10 + 40, (l-1) * 10 +1 : l * 10 + 40)*0.5);
end

% draw activated neuro
for i = 1:sample
    k = N(i,1);
    l = N(i,2);
    if (k > 45)
        k = 45;
    end
    if (l > 45)
        l = 45;
    end
    
    L22((k-1) * 10 + 10 +1: (k) * 10 + 10, (l - 1) * 10 + 1: l * 10) ...
        = L22((k-1) * 10 + 10 +1: (k) * 10 + 10, (l - 1) * 10 + 1: l * 10)* 0.5;
    
   L22((k-1) * 10 + 41 : (k) * 10 + 40, (l - 1) * 10 +11 : l * 10+10) ...
        = L22((k-1) * 10 + 41 : (k) * 10 + 40, (l - 1) * 10 +11 : l * 10+10)* 0.5;
    
    L22((k-1) * 10 + 21 : (k) * 10 + 20, (l - 1) * 10 +21 : l * 10+20) ...
        =  L22((k-1) * 10 + 21 : (k) * 10 + 20, (l - 1) * 10 +21 : l * 10+20) * 0.5;
    
    L22((k-1) * 10 +1 : (k) * 10, (l - 1) * 10 + 31 : l * 10 + 30) ...
        = L22((k-1) * 10 +1 : (k) * 10, (l - 1) * 10 + 31 : l * 10 + 30)* 0.5;
    
    L22((k-1) * 10 + 31 : (k) * 10 + 30, (l - 1) * 10 + 40 : l * 10 +40) ...
        = L22((k-1) * 10 + 31 : (k) * 10 + 30, (l - 1) * 10 + 40 : l * 10 +40) * 0.5;
end

        

imshow(L2',[0,255]); 
figure();
imshow(L22',[0,255]);